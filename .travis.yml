sudo: required

language: cpp

compiler:
  - gcc
  - clang

env:
  global:
    - TRAVIS_CI_PATH=$(pwd)
    
before_script:
  - git submodule update
  - cd $TRAVIS_CI_PATH/chapter5/googletest/googletest
  - g++ -std=c++11 -I./include/ -I. -c ./src/gtest-all.cc -lpthread
  - ar -rv libgtest.a gtest-all.o

script:
  - cd $TRAVIS_CI_PATH/chapter5/add01
  - make test
